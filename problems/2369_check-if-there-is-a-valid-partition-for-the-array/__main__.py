from typing import List

class Solution:
    def validPartition(self, nums: List[int]) -> bool:
        dp: List[bool] = [True] + [False] * len(nums)
        for l in range(2, len(nums) + 1):
            last_2_diff = nums[l - 1] - nums[l - 2]
            if last_2_diff == 0:
                dp[l] = dp[l - 2]
            if l >= 3 and (last_2_diff == 1 or last_2_diff == 0):
                last_3_diff = nums[l - 2] - nums[l - 3]
                if last_2_diff == last_3_diff:
                    dp[l] = dp[l] or dp[l - 3]
        return dp[-1]
        
    

solution = Solution()
print(solution.validPartition([803201,803201,803201,803201,803202,803203]))
print(solution.validPartition([1,2,3,4]))
print(solution.validPartition([4, 4, 4, 5, 6]))
print(solution.validPartition([1, 1, 1, 2]))
print(solution.validPartition([608238,608239,608240,608241,608242,608243,608244,608245,608246,608247,608248,608249,608250,608251,608252,608253,608254,608255,608256,608257,608258,608259,608260,608261,608262,608263,608264,608265,608266,608267,608268,608269,608270,608271,608272,608273,608274,608275,608276,608277,608278,608279,608280,608281,608282,145660,145660,145660,395632,395633,395634,395635,395636,395637,395638,395639,395640,395641,395642,395643,395644,395645,395646,395647,395648,395649,395650,395651,395652,395653,395654,395655,395656,395657,395658,395659,395660,395661,395662,395663,395664,395665,395666,395667,395668,395669,395670,395671,395672,395673,395674,395675,395676,932085,932086,932087,932088,932089,932090,932091,932092,932093,932094,932095,932096,115507,115507,115507,115507,115507,678243,678243,706747,706748,706749,706750,706751,706752,706753,706754,706755,706756,706757,706758,706759,706760,706761,706762,706763,706764,706765,706766,706767,706768,706769,706770,706747,706747,706747,264345,264345,264345,332549,332549,332549,45700,45701,45702,45703,45704,45705,45706,45707,45708,45709,45710,45711,45712,45713,45714,45715,45716,45717,45718,45719,45720,45721,45722,45723,45724,45725,45726,45727,45728,45729,45730,45731,45732,45733,45734,45735,409926,409927,409928,409929,409930,409931,409932,409933,409934,409935,409936,409937,409938,409939,409940,409941,409942,409943,409944,409945,409946,409947,409948,409949,409950,409951,409952,409953,409954,409955,409956,409957,409958,409959,409960,409961,409962,409963,409964,409965,409966,409967,788199,788199,788199,788199,788199,788199,395986,395986,395986,779148,779148,779148,738280,738281,738282,738283,738284,738285,738286,738287,738288,738289,738290,738291,738292,738293,738294,738295,738296,738297,738298,738299,738300,295979,295979,295979,875845,875845,875845,875845,875845,875845,842899,842899,172893,172893,819033,819034,819035,819036,819037,819038,819039,819040,819041,819042,819043,819044,819045,819046,819047,819048,819049,819050,819051,819052,819053,819054,819055,819056,819057,819058,819059,819060,819061,819062,956425,956425,956425,956426,956427,956428,956429,956430,956431,956432,956433,956434,956435,956436,956437,956438,956439,956440,956441,956442,956443,956444,956445,690308,690309,690310,690311,690312,690313,690314,690315,690316,690317,690318,690319,690320,690321,690322,690323,690324,690325,690326,690327,690328,690329,690330,690331,690332,690333,690334,690335,690336,690337,757289,757289,757289,757290,757291,757292,757293,757294,757295,757296,757297,757298,757299,757300,757301,757302,757303,601524,601524,371605,371606,371607,371608,371609,371610,371611,371612,371613,460840,460841,460842,460843,460844,460845,460846,460847,460848,460849,460850,460851,460852,460853,460854,460855,460856,460857,460858,460859,460860,460861,460862,460863,460864,460865,460866,184579,184580,184581,184582,184583,184584,184585,184586,184587,688957,688958,688959,688960,688961,688962,259407,259407,259407,259408,259409,259410,259411,259412,259413,259414,259415,259416,259417,259418,259419,259420,259421,55401,55402,55403,55404,55405,55406,16329,16329,16329,835209,835209,62748,62748,62748,120905,120905,120905,524416,524416,454740,454740,454740,454740,742988,742989,742990,742991,742992,742993,742994,742995,742996,742997,742998,742999,743000,743001,743002,743003,743004,743005,743006,743007,743008,743009,743010,743011,743012,743013,743014,11820,11821,11822,11823,11824,11825,11826,11827,11828,11829,11830,11831,11832,11833,11834,11835,11836,11837,11838,11839,11840,11820,11820,11820,11820,11820,617427,617428,617429,617430,617431,617432,617433,617434,617435,617436,617437,617438,617439,617440,617441,617442,617443,617444,617445,617446,617447,617448,617449,617450,617451,617452,617453,617454,617455,617456,617457,617458,617459,617460,617461,617462,308700,308700,172655,172656,172657,172658,172659,172660,172661,172662,172663,172664,172665,172666,172667,172668,172669,172670,172671,172672,172673,172674,172675,172676,172677,172678,172655,172655,339942,339942,640298,640299,640300,640301,640302,640303,640304,640305,640306,640307,640308,640309,640310,640311,640312,640313,640314,640315,640316,640317,640318,640319,640320,640321,640322,640323,640324,640325,640326,640327,640328,640329,640330,640331,640332,640333,640334,640335,640336,640337,640338,640339,234040,234041,234042,234043,234044,234045,209144,209144,209144,209144,209144,209144,417514,417514,417514,417514,417514,417514,417515,417516,417517,417518,417519,417520,417521,417522,417523,417524,417525,417526,417527,417528,417529,417530,417531,417532,417533,417534,417535,417536,417537,417538,417539,417540,417541,417542,417543,417544,417545,417546,417547,417548,417549,417550,417551,417552,417553,417554,417555,546466,546466,546466,546466,658085,658086,658087,658088,658089,658090,658091,658092,658093,658094,658095,658096,658097,658098,658099,658100,658101,658102,987930,987930,405689,405689,405689,405689,405689,405689,405689,405690,405691,405692,405693,405694,405695,405696,405697,405698,405699,405700,405701,405702,405703,405704,405705,405706,405707,405708,405709,405710,405711,405712,269750,269750,269750,208842,208843,208844,208845,208846,208847,208848,208849,208850,208851,208852,208853,208854,208855,208856,208857,208858,208859,208860,208861,208862,208863,208864,208865,208866,208867,208868,208869,208870,208871,208842,208842,534035,534036,534037,534038,534039,534040,534041,534042,534043,534044,534045,534046,534047,534048,534049,534050,534051,534052,558718,558719,558720,558721,558722,558723,558724,558725,558726,558727,558728,558729,558730,558731,558732,558733,558734,558735,558736,558737,558738,558739,558740,558741,558742,558743,558744,558745,558746,558747,558748,558749,558750,558751,558752,558753,558718,558718,558718,558718,558718,761146,761146,761146,322999,322999,322999,322999,322999,322999,322999,322999,322999,322999,322999,322999,323000,323001,323002,323003,323004,323005,323006,323007,323008,323009,323010,474132,474132,474132,117682,117682,117682,665070,665071,665072,665073,665074,665075,665076,665077,665078,665079,665080,665081,665082,665083,665084,665085,665086,665087,665088,665089,665090,665091,665092,665093,665094,665095]))